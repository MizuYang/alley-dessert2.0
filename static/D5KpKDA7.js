import{P as l,r as h,I as y}from"./DzEqZT4c.js";const d=l("useCartStore",()=>{const n=y(),{apiPath:o,apiBaseUrl:r}=n.public,s=h([]);async function c({product:t,qty:a=1}){if(!(t!=null&&t.id))return;t.qty=a,t.product_id=t.id;const f={method:"POST",body:{data:t}};try{const e=await $fetch(`${r}/api/${o}/cart`,{...f});console.log("res",e)}catch(e){console.error(e)}}async function i(){const t={method:"GET"};try{const a=await $fetch(`${r}/api/${o}/cart`,{...t});console.log("res",a),s.value=a.data.carts}catch(a){console.error(a)}}return{cartData:s,addProductToCart:c,getCartData:i}});export{d as u};
