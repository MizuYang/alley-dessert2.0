import{P as g,r}from"./CsCRyp1z.js";const S=g("useFavoriteStore",()=>{const a=r([]),i=r({});function l(){s(),v()}function s(){a.value=JSON.parse(localStorage.getItem("favoriteData"))||[]}function v(){a.value.length&&a.value.forEach(e=>{i.value[e.id]||(i.value[e.id]=e.id)})}function d(e){const t=a.value.findIndex(o=>o.id===e.id)===-1;t?f(e):u(e),c({product:e,isAdd:t}),localStorage.setItem("favoriteData",JSON.stringify(a.value))}function f(e){a.value.push(e),i.value[e.id]=e.id}function u(e){a.value=a.value.filter(t=>t.id!==e.id),delete i.value[e.id]}function c({product:e,isAdd:t}){const o=t?"heart-full":"heart-break",n=document.querySelector(`.${o}-${e.id}`),m=1e3;n.classList.remove("hidden"),n.classList.add(`${o}-animation`,"block"),setTimeout(()=>{n.classList.add("hidden"),n.classList.remove(`${o}-animation`,"block")},m)}return{favoriteData:a,favoritedPproductKeyName:i,favoriteInit:l,toggleFavorite:d}});export{S as u};
