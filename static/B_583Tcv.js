import{_ as B}from"./Dc2fHTTL.js";import{D as T,E as P,r as I,n as C,u as N,o as a,c as n,a as t,F as S,v as j,C as k,y as s,t as l,d as u,A as L,_ as V,b as $,G as q}from"./DTt3to0o.js";import{u as _}from"./Ch-GBjOo.js";import{_ as F}from"./H2AoEssx.js";const R={class:"text-primary mb-8"},A={class:"mx-auto flex max-w-[1200px] items-center gap-x-8"},D=["onClick"],E={class:"ml-auto"},H={for:"products-search-input"},z=["value"],w="bg-primary/30 font-black border-primary rounded-br-2xl rounded-tl-2xl",G={__name:"filterSearchSortTool",setup(m){const{category:p,isHighToLow:e,sortPriceBtnName:o,search:y}=T(_()),{setCategory:d,sortPriceToggle:g,setSearch:x,debounceSetSearch:h}=_(),c=P(),b=I({}),v=["全部","蛋糕","布丁","泡芙","舒芙蕾","熱門"];return C(()=>{v.includes(c.params.filterCategory)?d(c.params.filterCategory||"全部"):d("全部"),c.query.search&&x(c.query.search),N(()=>{const f=b.value.searchInput;f&&f.focus()})}),(f,i)=>(a(),n("div",R,[t("ul",A,[(a(),n(S,null,j(v,r=>t("li",{key:`filterBtn-${r}`,class:k(["border-primary hover:bg-primary/20 border border-solid transition-all hover:-translate-y-[2px] hover:rounded-br-2xl hover:rounded-tl-2xl",s(p)===r&&w])},[t("button",{type:"button",class:"px-5 py-3",onClick:ct=>s(d)(r)},l(r),9,D)],2)),64)),t("li",{class:k(["border-primary hover:bg-primary/20 border border-solid transition-all hover:-translate-y-[2px] hover:rounded-br-2xl hover:rounded-tl-2xl",typeof s(e)=="boolean"&&w])},[t("button",{type:"button",class:"px-5 py-3",onClick:i[0]||(i[0]=(...r)=>s(g)&&s(g)(...r))},[i[2]||(i[2]=t("i",{class:"bi bi-cash-coin"},null,-1)),u(" "+l(s(o)),1)])],2),t("li",E,[t("label",H,[i[3]||(i[3]=t("i",{class:"bi bi-search me-4 text-3xl"},null,-1)),t("input",{type:"text",class:"p-1 px-2 text-2xl text-black outline-none ring-4 focus:ring-gray-400",id:"products-search-input",ref:r=>s(b).searchInput=r,placeholder:"請輸入產品名稱",value:s(y),autofocus:"",onInput:i[1]||(i[1]=r=>s(h)(r.target.value))},null,40,z)])])])]))}},M={class:"mx-auto grid max-w-[1200px] grid-cols-4 gap-7"},U={class:"border-primary hover:bg-primary/10 group flex h-full cursor-pointer flex-col border border-solid hover:ring-4 hover:ring-gray-400/50","data-aos":"fade-up","aos-delay":"1000","data-aos-once":"true"},J={class:"relative"},K=["src","alt"],O={class:"text-primary absolute left-0 top-0 rounded-br-2xl bg-red-800/70 p-2 font-bold"},Q={class:"flex-grow p-4 pb-0"},W={class:"mb-3 flex items-center justify-between group-hover:font-black"},X={class:"inline-block text-[28px] underline"},Y={key:0,class:"inline-block bg-red-600 p-1 text-sm font-semibold text-white"},Z={class:"mb-3 line-clamp-3 text-xl"},tt={class:"flex justify-between px-4 pb-1 pt-0 text-xl"},et={class:"text-xl text-gray-300 line-through"},st={class:"text-[32px] font-black text-red-500"},ot={__name:"cards",props:{products:{type:Array,required:!0,default:[]}},setup(m){return(p,e)=>(a(),n("ul",M,[(a(!0),n(S,null,j(m.products,o=>(a(),n("li",{key:`procust-card-${o.id}`},[t("div",U,[t("div",J,[t("img",{src:o.imageUrl,class:"block h-[240px] w-[300px] object-cover object-center",alt:o.title},null,8,K),e[0]||(e[0]=t("div",{class:"absolute inset-0 bg-black opacity-0 transition-opacity duration-300 group-hover:opacity-50"},null,-1)),e[1]||(e[1]=t("img",{class:"absolute left-1/2 top-1/2 w-[75%] -translate-x-1/2 -translate-y-1/2 object-contain opacity-0 group-hover:opacity-100",alt:"顯示產品細節",src:F},null,-1)),t("div",O,[t("p",null,l(o.category),1)]),e[2]||(e[2]=t("div",{class:"absolute right-0 top-0 bg-red-800/30 rounded-bl-2xl px-2 py-1"},[t("button",{"data-clickType":"btn",type:"button",class:"badge animation_hover collect_btn",title:"加入收藏"},[t("i",{class:"bi bi-heart-fill text-2xl text-primary hover:text-red-500","data-clickType":"btn"})])],-1))]),t("div",Q,[t("h3",W,[t("span",X,l(o.title),1),o.popular>2?(a(),n("span",Y,"熱門")):L("",!0)]),t("p",Z,l(o.description),1)]),t("p",tt,[t("span",et,"原價 $"+l(o.origin_price),1),t("strong",null,[t("span",st,l(o.price),1),e[3]||(e[3]=u(" 元 "))])]),e[4]||(e[4]=t("button",{type:"button",class:"m-auto block w-full bg-red-800 py-3 text-2xl group-hover:bg-red-700/90 group-active:bg-red-600/80"},[t("i",{class:"bi bi-cart-check-fill"}),u(" 加入購物車 ")],-1))])]))),128))]))}},rt={class:"text-primary bg-black pb-14 pt-10"},at={key:1,class:"text-primary min-h flex items-center justify-center text-center text-2xl"},lt={class:"underline"},nt={key:2,class:"text-primary min-h flex items-center justify-center text-center text-2xl"},it={__name:"index",setup(m){const{products:p,productsRender:e,category:o,search:y}=T(_()),{getProducts:d}=_();return C(()=>{p.value.length||d()}),(g,x)=>{const h=B,c=G,b=ot;return a(),n("main",rt,[$(h,{title:"精選產品"}),$(c),s(e).length?(a(),q(b,{key:0,products:s(e)},null,8,["products"])):s(p).length?(a(),n("div",at,[u(" 喔哦! 在『"+l(s(o))+"』類別中找不到符合『",1),t("span",lt,l(s(y)),1),x[0]||(x[0]=u("』名稱的產品 >< "))])):(a(),n("div",nt,"讀取中.."))])}}},bt=V(it,[["__scopeId","data-v-e6d79bcc"]]);export{bt as default};
