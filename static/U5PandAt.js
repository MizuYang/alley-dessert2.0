import{_ as j}from"./D0-r5VyM.js";import{I as k,K as N,r as F,B as $,E as L,o as a,c as n,a as t,F as B,n as I,s as _,u as s,t as l,d as b,_ as P,y as V,b as C,L as q}from"./BweWaX-2.js";import{u as y}from"./DZNkRBeh.js";import{_ as R}from"./BzOn-_fm.js";import{u as S}from"./CECgoEEP.js";const z={class:"text-primary mb-8"},E={class:"mx-auto flex max-w-[1200px] items-center gap-x-8"},H=["onClick"],K={class:"ml-auto shrink-0"},A={for:"products-search-input"},D=["value"],T="bg-primary/30 font-black border-primary rounded-br-2xl rounded-tl-2xl",M={__name:"filterSearchSortTool",setup(f){const{category:c,isHighToLow:d,sortPriceBtnName:u,search:h}=k(y()),{setCategory:o,sortPriceToggle:e,setSearch:x,debounceSetSearch:g}=y(),p=N(),m=F({}),w=["全部","蛋糕","布丁","泡芙","舒芙蕾","熱門"];return $(()=>{w.includes(p.params.filterCategory)?o(p.params.filterCategory||"全部"):o("全部"),p.query.search&&x(p.query.search),L(()=>{const v=m.value.searchInput;v&&v.focus()})}),(v,i)=>(a(),n("div",z,[t("ul",E,[(a(),n(B,null,I(w,r=>t("li",{key:`filterBtn-${r}`,class:_(["border-primary shrink-0 hover:bg-primary/20 border border-solid transition-all hover:-translate-y-[2px] hover:rounded-br-2xl hover:rounded-tl-2xl",s(c)===r&&T])},[t("button",{type:"button",class:"px-4 py-3",onClick:_t=>s(o)(r)},l(r),9,H)],2)),64)),t("li",{class:_(["border-primary hover:bg-primary/20 border border-solid transition-all hover:-translate-y-[2px] hover:rounded-br-2xl hover:rounded-tl-2xl",typeof s(d)=="boolean"&&T])},[t("button",{type:"button",class:"shrink-0 px-4 py-3",onClick:i[0]||(i[0]=(...r)=>s(e)&&s(e)(...r))},[i[2]||(i[2]=t("i",{class:"bi bi-cash-coin"},null,-1)),b(" "+l(s(u)),1)])],2),t("li",K,[t("label",A,[i[3]||(i[3]=t("i",{class:"bi bi-search me-4 text-3xl"},null,-1)),t("input",{type:"text",class:"p-1 px-2 text-2xl text-black outline-none ring-4 focus:ring-gray-400",id:"products-search-input",ref:r=>s(m).searchInput=r,placeholder:"請輸入產品名稱",value:s(h),autofocus:"",onInput:i[1]||(i[1]=r=>s(g)(r.target.value))},null,40,D)])])])]))}},U={class:"mx-auto grid max-w-[1200px] grid-cols-4 gap-7"},G={class:"border-primary hover:bg-primary/10 group flex h-full cursor-pointer flex-col border border-solid hover:ring-4 hover:ring-gray-400/50","data-aos":"fade-up","aos-delay":"1000","data-aos-once":"true"},J={class:"relative"},O=["src","alt"],Q={class:"text-primary absolute left-0 top-0 rounded-br-2xl bg-red-800/70 p-2 font-bold"},W={class:"absolute right-0 top-0 rounded-bl-2xl bg-red-800/30 px-2 py-1"},X=["onClick"],Y={class:"absolute left-1/2 top-1/2 z-10 -translate-x-1/2 -translate-y-1/2"},Z={class:"flex-grow p-4 pb-0"},tt={class:"mb-3 flex items-center justify-between group-hover:font-black"},et={class:"inline-block text-[28px] underline"},st={key:0,class:"inline-block bg-red-600 p-1 text-sm font-semibold text-white"},ot={class:"mb-3 line-clamp-3 text-xl"},rt={class:"flex justify-between px-4 pb-1 pt-0 text-xl"},at={class:"text-xl text-gray-300 line-through"},lt={class:"text-[32px] font-black text-red-500"},nt={__name:"cards",props:{products:{type:Array,required:!0,default:[]}},setup(f){const{favoritedPproductKeyName:c}=k(S()),{toggleFavorite:d,favoriteInit:u}=S();return $(()=>{u()}),(h,o)=>(a(),n("ul",U,[(a(!0),n(B,null,I(f.products,e=>(a(),n("li",{key:`procust-card-${e.id}`},[t("div",G,[t("div",J,[t("img",{src:e.imageUrl,class:"block h-[240px] w-[300px] object-cover object-center",alt:e.title},null,8,O),o[0]||(o[0]=t("div",{class:"absolute inset-0 bg-black opacity-0 transition-opacity duration-300 group-hover:opacity-50"},null,-1)),o[1]||(o[1]=t("img",{class:"absolute left-1/2 top-1/2 w-[75%] -translate-x-1/2 -translate-y-1/2 object-contain opacity-0 group-hover:opacity-100",alt:"顯示產品細節",src:R},null,-1)),t("div",Q,[t("p",null,l(e.category),1)]),t("div",W,[t("button",{"data-clickType":"btn",type:"button",class:"badge animation_hover collect_btn",title:"加入收藏",onClick:x=>s(d)(e)},[t("i",{class:_(["bi bi-heart-fill text-primary inline-block text-2xl hover:scale-[1.15] hover:text-red-500 active:scale-[1.25] active:text-red-500/80",s(c)[e.id]?"text-red-500":"text-primary"])},null,2),t("div",Y,[t("i",{class:_(["bi bi-heart-fill heart hidden text-red-500",`heart-full-${e.id}`])},null,2),t("i",{class:_(["bi bi-heartbreak-fill heartbreak hidden text-red-500",`heart-break-${e.id}`])},null,2)])],8,X)])]),t("div",Z,[t("h3",tt,[t("span",et,l(e.title),1),e.popular>2?(a(),n("span",st,"熱門")):V("",!0)]),t("p",ot,l(e.description),1)]),t("p",rt,[t("span",at,"原價 $"+l(e.origin_price),1),t("strong",null,[t("span",lt,l(e.price),1),o[2]||(o[2]=b(" 元 "))])]),o[3]||(o[3]=t("button",{type:"button",class:"m-auto block w-full bg-red-800 py-3 text-2xl group-hover:bg-red-700/90 group-active:bg-red-600/80"},[t("i",{class:"bi bi-cart-check-fill"}),b(" 加入購物車 ")],-1))])]))),128))]))}},it=P(nt,[["__scopeId","data-v-a363dd6e"]]),ct={class:"pb-14 pt-10"},dt={key:1,class:"text-primary min-h flex items-center justify-center text-center text-2xl"},pt={class:"underline"},ut={key:2,class:"text-primary min-h flex items-center justify-center text-center text-2xl"},xt={__name:"index",setup(f){const{products:c,productsRender:d,category:u,search:h}=k(y()),{getProducts:o}=y();return $(()=>{c.value.length||o()}),(e,x)=>{const g=j,p=M,m=it;return a(),n("main",ct,[C(g,{title:"精選產品"}),C(p),s(d).length?(a(),q(m,{key:0,products:s(d)},null,8,["products"])):s(c).length?(a(),n("div",dt,[b(" 喔哦! 在『"+l(s(u))+"』類別中找不到符合『",1),t("span",pt,l(s(h)),1),x[0]||(x[0]=b("』名稱的產品 >< "))])):(a(),n("div",ut,"讀取中.."))])}}},gt=P(xt,[["__scopeId","data-v-5a665c97"]]);export{gt as default};
